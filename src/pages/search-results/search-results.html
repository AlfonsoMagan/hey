<ion-header>
  <ion-navbar hideBackButton="false">
    <ion-title>Trayectos disponibles</ion-title>
  </ion-navbar>
</ion-header>

<ion-content>

    <ion-grid>
        <ion-row>
          <ion-col col-6>
            <ion-list >
                <button ion-item detail-none (click)="ShowTrip(trip)" *ngFor="let trip of trips | async" >
                    
                    <ion-row >
                      <ion-col col-1>
                          <ion-icon small name="md-arrow-down"></ion-icon>
                      </ion-col>
                      <ion-col col-4>                
                          <li>{{ trip.origin }}</li>
                          <br>
                          <li>{{ trip.destination }}</li>                    
                      </ion-col>
                      <ion-col>
                          <li><ion-icon name="md-calendar"></ion-icon>
                          {{ trip.departureDate  | date: 'dd/MM' }}  </li>                 
                          <li><h1 id="price">{{ trip.totalSeats - trip.avaiableSeats }}/{{ trip.totalSeats}}</h1></li>
                      </ion-col>
                      <ion-col >
                          <li align="right"><ion-icon name="md-alarm"></ion-icon>
                          {{ trip.departureTime }} </li>
                          <li align="right"><h1 id="price"> {{ trip.price }}€</h1></li>
                          <!--{{ trip.price === '0' ? 'GRATIS!' : trip.price+ '€' }}-->
                      </ion-col>
                       
                  </ion-row>
                </button >
            </ion-list>
        </ion-col>
          
<ion-col col-6>
    <div id='map'></div>
    <ion-list >
        <ion-item>
            <ion-row>
                <ion-col>
                    <h1> <ion-icon name="md-alarm"></ion-icon>
                        {{ trip.departureTime }}</h1>
                </ion-col>
                <ion-col>
                    <h1 ><ion-icon name="md-calendar"></ion-icon>
                        {{ trip.departureDate  | date: 'dd/MM' }}  </h1>                     
                </ion-col>
                <ion-col>
                    <li align="right"><h1 id="price">0/{{ trip.avaiableSeats}}</h1></li>
                </ion-col>
                <ion-col>
                    <li align="right"><h1 id="price">{{ trip.price}} €</h1></li>
                </ion-col>
            </ion-row>
        </ion-item>
        <ion-item>
            Origen: {{ trip.origin}}
        </ion-item>
        <ion-item>
            Destino: {{ trip.destination}}
        </ion-item>
        <ion-item>
            Conductor: {{ (driver | async)?.firstName }} {{ (driver | async)?.lastName }} 
        </ion-item>
    </ion-list>
          </ion-col>
        </ion-row>
      </ion-grid>

</ion-content>

<ion-footer>
  <ion-toolbar>
        <button ion-button large back-button block (click)=bookTrip()>Reservar</button>
  </ion-toolbar>
</ion-footer>


